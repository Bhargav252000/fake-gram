(this["webpackJsonpfake-gram"]=this["webpackJsonpfake-gram"]||[]).push([[0],{40:function(e,t,a){e.exports=a(59)},45:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),l=a.n(c),i=(a(45),a(10)),o=a.n(i),s=a(16),u=a(6),m=a(66),p=a(64),d=a(65),b=a(8),v=a(9),f=a(19);a(61),a(47),a(51);f.initializeApp({apiKey:"AIzaSyBb53K68JNS4BUgQyxSwJBP26OnL-GnEz8",authDomain:"fakegram-f063f.firebaseapp.com",databaseURL:"https://fakegram-f063f.firebaseio.com",projectId:"fakegram-f063f",storageBucket:"fakegram-f063f.appspot.com",messagingSenderId:"645309976418",appId:"1:645309976418:web:831504569c6e7370e2263b"});var E=f.storage(),h=f.firestore(),g=f.auth(),x=f.firestore.FieldValue.serverTimestamp,w=r.a.createContext();function y(){return Object(n.useContext)(w)}function O(e){var t=e.children,a=Object(n.useState)(),c=Object(u.a)(a,2),l=c[0],i=c[1],o=Object(n.useState)(!0),s=Object(u.a)(o,2),m=s[0],p=s[1];Object(n.useEffect)((function(){return g.onAuthStateChanged((function(e){i(e),p(!1)}))}),[]);var d={currentUser:l,login:function(e,t){return g.signInWithEmailAndPassword(e,t)},signin:function(e,t){return g.createUserWithEmailAndPassword(e,t)},logout:function(){return g.signOut()},resetPassword:function(e){return g.sendPasswordResetEmail(e)},updateEmail:function(e){return l.updateEmail(e)},updatePassword:function(e){return l.updatePassword(e)}};return r.a.createElement(w.Provider,{value:d},!m&&t)}var j=a(7),S={hover:{scale:1.06,transition:{duration:.3},textShadow:"0px 0px 8px rgb(255,255,255)",boxShadow:"0px 0px 8px rgb(255,255,255)"}},k={hidden:{x:"100vw",opacity:0},visible:{opacity:1,x:0,transition:{type:"spring",delay:.5}},exit:{x:"-100vh",transition:{ease:"easeInOut"}}};function N(){var e=Object(n.useRef)(),t=Object(n.useRef)(),a=Object(n.useRef)(),c=y().signin,l=Object(n.useState)(""),i=Object(u.a)(l,2),f=i[0],E=i[1],h=Object(n.useState)(!1),g=Object(u.a)(h,2),x=g[0],w=g[1],O=Object(b.g)();function N(){return(N=Object(s.a)(o.a.mark((function n(r){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.preventDefault(),t.current.value===a.current.value){n.next=3;break}return n.abrupt("return",E("Passwords do not match"));case 3:return n.prev=3,E(""),w(!0),n.next=8,c(e.current.value,t.current.value);case 8:O.push("/"),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(3),E("Failed to Create An Account");case 14:w(!1);case 15:case"end":return n.stop()}}),n,null,[[3,11]])})))).apply(this,arguments)}return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"heading"},r.a.createElement("h1",null,"Fakegram")),r.a.createElement(j.b.Card,{variants:k,initial:"hidden",animate:"visible",exit:"exit"},r.a.createElement(m.a.Body,null,r.a.createElement("h2",{className:"text-center mb-4",style:{color:"#4e4e4e"}},"Sign Up"),f&&r.a.createElement(p.a,{variant:"danger"},f),r.a.createElement(d.a,{onSubmit:function(e){return N.apply(this,arguments)}},r.a.createElement(d.a.Group,{id:"email"},r.a.createElement(d.a.Label,null,"Email"),r.a.createElement(d.a.Control,{type:"email",ref:e,required:!0})),r.a.createElement(d.a.Group,{id:"password"},r.a.createElement(d.a.Label,null,"Password"),r.a.createElement(d.a.Control,{type:"password",ref:t,required:!0})),r.a.createElement(d.a.Group,{id:"password-confirm"},r.a.createElement(d.a.Label,null,"Password Confirmation"),r.a.createElement(d.a.Control,{type:"password",ref:a,required:!0})),r.a.createElement(j.b.button,{disabled:x,className:"w-100",type:"submit",variants:S,whileHover:"hover"},"Sign Up")))),r.a.createElement("div",{className:"w-100 text-center mt-2"},"Already Have An Account ? ",r.a.createElement(v.b,{to:"/login"},"Log In")))}var C={hover:{scale:1.06,transition:{duration:.3},textShadow:"0px 0px 8px rgb(255,255,255)",boxShadow:"0px 0px 8px rgb(255,255,255)"}},P={hidden:{x:"100vw",opacity:0},visible:{opacity:1,x:0,transition:{type:"spring",delay:.5}},exit:{x:"-100vh",transition:{ease:"easeInOut"}}};function L(){var e=Object(n.useRef)(),t=Object(n.useRef)(),a=y().login,c=Object(n.useState)(""),l=Object(u.a)(c,2),i=l[0],f=l[1],E=Object(n.useState)(!1),h=Object(u.a)(E,2),g=h[0],x=h[1],w=Object(b.g)();function O(){return(O=Object(s.a)(o.a.mark((function n(r){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.preventDefault(),n.prev=1,f(""),x(!0),n.next=6,a(e.current.value,t.current.value);case 6:w.push("/"),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),f("Failed to Login");case 12:x(!1);case 13:case"end":return n.stop()}}),n,null,[[1,9]])})))).apply(this,arguments)}return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"heading"},r.a.createElement("h1",null,"Fakegram")),r.a.createElement(j.b.Card,{variants:P,initial:"hidden",animate:"visible",exit:"exit"},r.a.createElement(m.a.Body,null,r.a.createElement("h2",{className:"text-center mb-4",style:{color:"#4e4e4e"}},"Log In"),i&&r.a.createElement(p.a,{variant:"danger"},i),r.a.createElement(d.a,{onSubmit:function(e){return O.apply(this,arguments)}},r.a.createElement(d.a.Group,{id:"email"},r.a.createElement(d.a.Label,null,"Email"),r.a.createElement(d.a.Control,{type:"email",ref:e,required:!0})),r.a.createElement(d.a.Group,{id:"password"},r.a.createElement(d.a.Label,null,"Password"),r.a.createElement(d.a.Control,{type:"password",ref:t,required:!0})),r.a.createElement(j.b.button,{disabled:g,className:"w-100 mt-2",type:"submit",variants:C,whileHover:"hover"},"Log In")),r.a.createElement("div",{className:"w-100 text-center mt-2"},r.a.createElement(v.b,{to:"/forgot-password"},r.a.createElement(j.b.button,{variants:C,whileHover:"hover"},"Forgot Password"))))),r.a.createElement("div",{className:"w-100 text-center mt-2"},"Create New Account ?",r.a.createElement(v.b,{to:"/signup"},r.a.createElement(j.b.button,{variants:C,whileHover:"hover"},"Signup"))))}var F={hover:{scale:1.06,transition:{duration:.3},textShadow:"0px 0px 8px rgb(255,255,255)",boxShadow:"0px 0px 8px rgb(255,255,255)"}},I={hidden:{x:"100vw",opacity:0},visible:{opacity:1,x:0,transition:{type:"spring",delay:.5}},exit:{x:"-100vh",transition:{ease:"easeInOut"}}};function A(){var e=Object(n.useRef)(),t=Object(n.useRef)(),a=Object(n.useRef)(),c=y(),l=c.currentUser,i=c.updateEmail,o=c.updatePassword,s=Object(n.useState)(""),f=Object(u.a)(s,2),E=f[0],h=f[1],g=Object(n.useState)(!1),x=Object(u.a)(g,2),w=x[0],O=x[1],S=Object(b.g)();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"heading"},r.a.createElement("h1",null,"Fakegram")),r.a.createElement(j.b.Card,{variants:I,initial:"hidden",animate:"visible"},r.a.createElement(m.a.Body,null,r.a.createElement("h2",{className:"text-center mb-4",style:{color:"#4e4e4e"}},"Update Profile"),E&&r.a.createElement(p.a,{variant:"danger"},E),r.a.createElement(d.a,{onSubmit:function(n){if(n.preventDefault(),t.current.value!==a.current.value)return h("Passwords do not match");var r=[];O(!0),h(""),e.current.value!==l.email&&r.push(i(e.current.value)),t.current.value&&r.push(o(t.current.value)),Promise.all(r).then((function(){S.push("/")})).catch((function(){h("Failed To Update Account")})).finally((function(){O(!1)}))}},r.a.createElement(d.a.Group,{id:"email"},r.a.createElement(d.a.Label,null,"Email"),r.a.createElement(d.a.Control,{type:"email",ref:e,required:!0,defaultValue:l.email})),r.a.createElement(d.a.Group,{id:"password"},r.a.createElement(d.a.Label,null,"Password"),r.a.createElement(d.a.Control,{type:"password",ref:t,placeholder:"Leave Blank To Keep The Same"})),r.a.createElement(d.a.Group,{id:"password-confirm"},r.a.createElement(d.a.Label,null,"Password Confirmation"),r.a.createElement(d.a.Control,{type:"password",ref:a,placeholder:"Leave Blank To Keep The Same"})),r.a.createElement(j.b.button,{disabled:w,className:"w-100",type:"submit",variants:F,whileHover:"hover"},"Update")))),r.a.createElement("div",{className:"w-100 text-center mt-2"},r.a.createElement(v.b,{to:"/"},r.a.createElement(j.b.button,{variants:F,whileHover:"hover"},"Cancel"))))}var R=a(39);function U(e){var t=e.component,a=Object(R.a)(e,["component"]),n=y().currentUser;return r.a.createElement(b.b,Object.assign({},a,{render:function(e){return n?r.a.createElement(t,e):r.a.createElement(b.a,{to:"/login"})}}))}var B=function(){return r.a.createElement("div",{className:"title"},r.a.createElement("h1",null,"FakeGram"),r.a.createElement("h2",null,"Your Pictures"))},H=function(e){var t=Object(n.useState)(null),a=Object(u.a)(t,2),r=a[0],c=a[1],l=Object(n.useState)(null),i=Object(u.a)(l,2),m=i[0],p=i[1],d=Object(n.useState)(null),b=Object(u.a)(d,2),v=b[0],f=b[1];return Object(n.useEffect)((function(){var t=E.ref(e.name),a=h.collection("images");t.put(e).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;c(t)}),(function(e){p(e)}),Object(s.a)(o.a.mark((function e(){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getDownloadURL();case 2:n=e.sent,r=x(),a.add({url:n,createdAt:r}),f(n);case 6:case"end":return e.stop()}}),e)}))))}),[e]),{progress:r,url:v,error:m}},G=function(e){var t=e.file,a=e.setFile,c=H(t),l=c.progress,i=c.url;return Object(n.useEffect)((function(){i&&a(null)}),[i,a]),r.a.createElement(j.b.div,{className:"progress-bar",initial:{width:0},animate:{width:l+"%"}})},q={display:"block",width:"30px",height:"30px",border:"1px solid #e99d97",borderRadius:"50%",margin:"10px auto",lineHeight:"30px",color:"#e99d97",fontWeight:"bold",fontSize:"24px"},T=function(){var e=Object(n.useState)(null),t=Object(u.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(null),i=Object(u.a)(l,2),o=i[0],s=i[1],m=["image/png","image/jpeg","image/jpg"];return r.a.createElement("form",null,r.a.createElement("label",{style:q},r.a.createElement("input",{type:"file",onChange:function(e){var t=e.target.files[0];t&&m.includes(t.type)?(c(t),s(null)):(c(null),s("Please Select An Image File (png or jpeg)"))}}),r.a.createElement("span",null,"+")),r.a.createElement("div",{className:"output"},o&&r.a.createElement("div",{className:"error"}," ",o," "),a&&r.a.createElement("div",null,a.name),a&&r.a.createElement(G,{file:a,setFile:c})))},D=a(31),z=function(e){var t=Object(n.useState)([]),a=Object(u.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)((function(){var t=h.collection(e).orderBy("createdAt","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(D.a)(Object(D.a)({},e.data()),{},{id:e.id}))})),c(t)}));return function(){return t()}}),[e]),{docs:r}},J=function(e){var t=e.setSelectedImage,a=z("images").docs;return r.a.createElement("div",{className:"img-grid"},a&&a.map((function(e){return r.a.createElement(j.b.div,{whileHover:{opacity:1},layout:!0,className:"img-wrap",key:e.id,onClick:function(a){return function(e,a){a.target.classList.contains("closes")||t(e)}(e.url,a)}},r.a.createElement("span",{className:"closes",title:"Delete",onClick:function(a){return function(e,a){"closes"===a.target.className&&(t(null),h.collection("images").doc(e).delete())}(e.id,a)}},"\xd7"),r.a.createElement(j.b.img,{src:e.url,alt:"uploaded pic",initial:{opacity:0},animate:{opacity:1},transition:{delay:1}}))})))},K=function(e){var t=e.selectedImage,a=e.setSelectedImage;return r.a.createElement(j.b.div,{className:"backdrop",onClick:function(e){e.target.classList.contains("backdrop")&&a(null)},initial:{opacity:0},animate:{opacity:1}},r.a.createElement(j.b.img,{src:t,alt:"enlarged Pic",initial:{y:"100vh"},animate:{y:0}}))},W={hover:{scale:1.06,transition:{duration:.3},textShadow:"0px 0px 8px rgb(255,255,255)",boxShadow:"0px 0px 8px rgb(255,255,255)"}},V={hidden:{x:"100vw",opacity:0},visible:{opacity:1,x:0,transition:{type:"spring",delay:.5}},exit:{x:"-100vh",transition:{ease:"easeInOut"}}};function Y(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),a=t[0],c=t[1],l=y().logout,i=Object(b.g)(),m=Object(n.useState)(null),d=Object(u.a)(m,2),f=d[0],E=d[1];function h(){return(h=Object(s.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(""),e.prev=1,e.next=4,l();case 4:i.push("/login"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),c("Failed To Log Out");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"App",variants:V,initial:"hidden",animate:"visible"},a&&r.a.createElement(p.a,{variant:"danger"},a),r.a.createElement(B,null),r.a.createElement(T,null),r.a.createElement(J,{setSelectedImage:E}),f&&r.a.createElement(K,{selectedImage:f,setSelectedImage:E}),r.a.createElement("div",{className:"w-100 text-center mt-2 next"},r.a.createElement(v.b,{to:"/update"},r.a.createElement(j.b.button,{variants:W,whileHover:"hover"},"Update Profile"))),r.a.createElement("div",{className:"w-100 text-center mt-2 next"},r.a.createElement(j.b.button,{onClick:function(){return h.apply(this,arguments)},variants:W,whileHover:"hover"},"Log Out"))))}var M={hover:{scale:1.06,transition:{duration:.3},textShadow:"0px 0px 8px rgb(255,255,255)",boxShadow:"0px 0px 8px rgb(255,255,255)"}},Q={hidden:{x:"100vw",opacity:0},visible:{opacity:1,x:0,transition:{type:"spring",delay:.5}},exit:{x:"-100vh",transition:{ease:"easeInOut"}}};function _(){var e=Object(n.useRef)(),t=y().resetPassword,a=Object(n.useState)(""),c=Object(u.a)(a,2),l=c[0],i=c[1],b=Object(n.useState)(!1),f=Object(u.a)(b,2),E=f[0],h=f[1],g=Object(n.useState)(""),x=Object(u.a)(g,2),w=x[0],O=x[1];function S(){return(S=Object(s.a)(o.a.mark((function a(n){return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),a.prev=1,O(""),i(""),h(!0),a.next=7,t(e.current.value);case 7:O("Check Your Inbox For Further Instuctions"),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),i("Failed to Reset Password");case 13:h(!1);case 14:case"end":return a.stop()}}),a,null,[[1,10]])})))).apply(this,arguments)}return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.b.Card,{variants:Q,initial:"hidden",animate:"visible"},r.a.createElement(m.a.Body,null,r.a.createElement("h2",{className:"text-center mb-4",style:{color:"#4e4e4e"}},"Password Reset"),l&&r.a.createElement(p.a,{variant:"danger"},l),w&&r.a.createElement(p.a,{variant:"success"},w),r.a.createElement(d.a,{onSubmit:function(e){return S.apply(this,arguments)}},r.a.createElement(d.a.Group,{id:"email"},r.a.createElement(d.a.Label,null,"Email"),r.a.createElement(d.a.Control,{type:"email",ref:e,required:!0})),r.a.createElement(j.b.button,{disabled:E,className:"w-100",type:"submit",variants:M,whileHover:"hover"},"Reset Password")),r.a.createElement("div",{className:"w-100 text-center mt-2"},r.a.createElement(v.b,{to:"/login"},"Login")))),r.a.createElement("div",{className:"w-100 text-center mt-2"},"Create New Account ? ",r.a.createElement(v.b,{to:"/signup"},"Sign Up")))}var X=a(63);var Z=function(){return r.a.createElement(j.a,{exitBeforeEnter:!0},r.a.createElement(X.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh",fontFamily:"Comfortaa"}},r.a.createElement("div",{className:"w-100",style:{maxWidth:"800px"}},r.a.createElement(v.a,null,r.a.createElement(O,null,r.a.createElement(b.d,null,r.a.createElement(U,{exact:!0,path:"/",component:Y}),r.a.createElement(U,{path:"/update",component:A}),r.a.createElement(b.b,{path:"/signup",component:N}),r.a.createElement(b.b,{path:"/login",component:L}),r.a.createElement(b.b,{path:"/forgot-password",component:_})))))))};a(58);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Z,null)),document.querySelector("#root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.497c5fc5.chunk.js.map